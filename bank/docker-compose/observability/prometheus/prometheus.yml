global:
  scrape_interval:     5s   # 스크랩 주기 : 5초 마다 metrics 수집
  evaluation_interval: 5s   # 평가 주기  : 5초

scrape_configs:
  - job_name: 'accounts'  # 작업 이름
    metrics_path: '/actuator/prometheus'  # 경로
    static_configs:
      - targets: [ 'accounts:8080' ]  # Docker Compose 서비스 이름 - 포트
  - job_name: 'loans'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'loans:8090' ]
  - job_name: 'cards'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'cards:9000' ]
  - job_name: 'gatewayserver'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'gatewayserver:8072' ]
  - job_name: 'eurekaserver'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'eurekaserver:8070' ]
  - job_name: 'configserver'
    metrics_path: '/actuator/prometheus'
    static_configs:
      - targets: [ 'configserver:8071' ]
